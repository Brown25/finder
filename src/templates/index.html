<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Package Tracking System V1</title>
</head>
<body>
    <h1>Package Tracking System</h1>
    <h4><i>Use our website to track your packages easily !</i></h4>
    <hr>
    
    {% if error %}
    <div style="color: red;">{{ error }}</div>
    {% endif %}

    <form action="{{ url_for('index') }}" method="post" name="theform">
        {% if package_info %}
        <input type="hidden" name="tracking_PPPPPPnumber" value="{{ package_info.tracking_number }}">
        <input type="hidden" name="password" value="{{ package_info.password }}">
        <h2>Package Information</h2>
        <table border="1" align="center">
            <tr><td>Tracking Number:</td><td>{{ package_info.tracking_number }}</td></tr>
            <tr><td>Tracking URL:</td><td><a href="{{ package_info.tracking_url }}">{{ package_info.tracking_url }}</a></td></tr>
            <tr><td>Support Phone Numbers:</td><td>{{ package_info.support_phone_numbers | join(", ") }}</td></tr>
            <tr><td>Create Date:</td><td>{{ package_info.create_date }}</td></tr>
            <tr><td>Promised Date:</td><td>{{ package_info.promised_date }}</td></tr>
            <tr><td>Transit Events:</td><td>
                <ul>
                    {% for event in package_info.transit_events %}
                    <li>{{ event.timestamp }} - {{ event.location }}</li>
                    {% endfor %}
                </ul>
            </td></tr>
        </table>
        {% else %}
        <p>Enter your <b>tracking number</b> and password to track your package.</p>
        <table>
            <tr><td>Tracking Number: </td><td><input name="tracking_number" cols="10" /></td></tr>
            <tr><td>Password: </td><td><input name="password" cols="30" /></td></tr>
            <tr><td><input type="submit" value="Submit" name="submit"></td><td></td></tr>
        </table>
        {% endif %}
    </form>
    <hr>
    <p>Generated by Package Tracking System at {{ current_time }}</p>
</body>
</html>
